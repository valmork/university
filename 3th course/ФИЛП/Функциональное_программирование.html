<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.22">
<title>Функциональное и логическое программирование</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Функциональное и логическое программирование</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Языки программирования</p>
<div class="ulist">
<ul>
<li>
<p>Императивные&#8201;&#8212;&#8201;программа описывает, <em>как</em> получить результат</p>
<div class="ulist">
<ul>
<li>
<p>Pascal, C, &#8230;&#8203;</p>
</li>
<li>
<p>Объектно-ориентированные: Java, C#</p>
</li>
<li>
<p>Языки конкурентного программирования</p>
</li>
</ul>
</div>
</li>
<li>
<p>Декларативные&#8201;&#8212;&#8201;описывают, <em>какой</em> нужно получить результат. Как получить результат, решает транслятор</p>
<div class="ulist">
<ul>
<li>
<p>Языки логического программирования: Prolog. В ЛП предметная область описывается в логике предикатов. Используется метод резолюций.</p>
</li>
<li>
<p>Языки функционального программирования: Haskell, ML. Функциональная программа&#8201;&#8212;&#8201;множество определений функций в математическом стиле, плюс выражение, которое нужно вычислить.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_функциональное_программирование">Функциональное программирование</h2>
<div class="sectionbody">
<div class="paragraph">
<p>\$n! = {(1, n =0), (n*(n-1)!, n &gt; 0):}\$</p>
</div>
<div class="paragraph">
<p>Функция в языке программирования, в которой используется побочный эффект (напр. глобальная переменная), называется грязной, иначе&#8201;&#8212;&#8201;чистой.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell">f 0 = 1
f n = n * f(n-1)

f 3 =&gt; 6</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>f 3 =&gt; [3/n] =&gt; 3 * f(3 - 1) =&gt; 3 * f 2 =&gt; 3 * 2 * f (2 - 1) =&gt; 3 * 2 * 1 * f (1 - 1) =&gt; 3 * 2 * 1 * 1 =&gt; 6</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_логическое_программирования">Логическое программирования</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prolog использует реляционную модель &#8658; логику предикатов. (Предикат&#8201;&#8212;&#8201;логическая функция)</p>
</div>
<div class="paragraph">
<p>В начале нужно задать универсум распределения.</p>
</div>
<div class="paragraph">
<p>P¹ задаёт свойство, P²&#8201;&#8212;&#8201;отношение</p>
</div>
<div class="paragraph">
<p>Свойства и отношения предметов записываются в Prolog в виде фактов. Записываются с маленькой буквы или
в одинарных кавычках</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">родитель('Иван', 'Фёдор').
родитель('Марья', 'Фёдор').
...
жен('Марья').
...
?-жен('Марья').
  yes.
?-жен('Иван').
  no.
?-родитель('Иван', 'Фёдор').
  yes.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Переменные сзаписываются с большой буквы.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">?-родитель(X, 'Фёдор').
  X='Иван'.
?-родитель('Фёдор', X).
  X='Анна';
  X='Павел';
  no.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Правила</p>
</div>
<div class="ulist">
<ul>
<li>
<p>В логике: P₁ &amp; P₂ &amp; &#8230;&#8203; &amp; Pn &#8594; P</p>
</li>
<li>
<p>В Prolog: P :- P₁, P₂, &#8230;&#8203; Pn.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">мать(X, Y):-
    жен(X),
    родитель(X, Y).

?-мать(X, 'Фёдор')
  X='Марья'

сестра(X, Y):-
    жен(X),
    родитель(Z, X),
    родитель(Z, Y),
    X \== Y.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Правила могут быть рекурсивными.</p>
</div>
<div class="paragraph">
<p>Рекурсия возможна из-за того, что</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Одно и то же отношение можно задать несколькими правилами (варианты);</p>
</li>
<li>
<p>Правила могут использовать сами себя.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">потомок(X,Y):-
    родитель(Y,X).
потомок(X,Y):-
    родитель(Y,Z),
    потомок(X,Z).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Братко И.&#8201;&#8212;&#8201;Программирование на языке Prolog для ИИ, 1990</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_синтаксис_prolog">Синтаксис Prolog</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_термы">Термы</h3>
<div class="paragraph">
<p>В Prolog используются</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Атомы&#8201;&#8212;&#8201;предметные константы.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Последовательность цифр, букв и "_", начинающихся с маленькой буквы (напр, "y_5")</p>
</li>
<li>
<p>Последовательность символов (напр. "&#8592;-&#8594;")</p>
</li>
<li>
<p>Любая последовательность символов в одинарных кавычках</p>
</li>
</ol>
</div>
</li>
<li>
<p>Числа</p>
</li>
<li>
<p>Переменные</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Последовательность цифр, букв и "_", начинающихся с большой буквы или символа подчёркивания</p>
</li>
</ol>
</div>
</li>
<li>
<p>Структуры&#8201;&#8212;&#8201;сложные имена (напр. "дата(3, сент, 2025)", где "дата"&#8201;&#8212;&#8201;функтор, далее&#8201;&#8212;&#8201;аргументы)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Атомы, числа, переменные и структуры&#8201;&#8212;&#8201;термы</p>
</div>
</div>
<div class="sect2">
<h3 id="_предикаты">Предикаты</h3>
<div class="paragraph">
<p>p(t<sub>1</sub>, t<sub>2</sub>, &#8230;&#8203;, t<sub>n</sub>)</p>
</div>
<div class="paragraph">
<p>p&#8201;&#8212;&#8201;предикатный символ, предикатор
t<sub>1</sub>, t<sub>2</sub>, &#8230;&#8203;, t<sub>n</sub>&#8201;&#8212;&#8201;аргументы</p>
</div>
</div>
<div class="sect2">
<h3 id="_структура_программы">Структура программы</h3>
<div class="paragraph">
<p>Программа на Prolog состоит из фактов и правил</p>
</div>
<div class="paragraph">
<p>Факт&#8201;&#8212;&#8201;предикат с подставлеными аргументами:</p>
</div>
<div class="paragraph">
<p>p(t<sub>1</sub>, t<sub>2</sub>, &#8230;&#8203;, t<sub>n</sub>).</p>
</div>
<div class="paragraph">
<p>Правило:</p>
</div>
<div class="paragraph">
<p>p :- p<sub>1</sub>, p<sub>2</sub>, &#8230;&#8203;, p<sub>n</sub>.</p>
</div>
<div class="paragraph">
<p>где p<sub>i</sub>&#8201;&#8212;&#8201;предикат с параметрами</p>
</div>
<div class="paragraph">
<p>Цель (вопрос)&#8201;&#8212;&#8201;правило без заголовка:</p>
</div>
<div class="paragraph">
<p>p<sub>1</sub>, p<sub>2</sub>, &#8230;&#8203;, p<sub>n</sub></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_декларативный_смысл_prolog_программы">Декларативный смысл Prolog-программы</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для ответа на вопрос Prolog-машина использует метод резолюции, основаный на опровержении.</p>
</div>
<div class="paragraph">
<p>Для приведения предикатов к одинаковому виду находится наиболее общий унификатор (НОУ).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>мать(X,Y):-
    жен(X),
    родитель(X,Y).</pre>
</div>
</div>
<div class="paragraph">
<p>жен(X) &amp; родитель(X, Y) &#8594; мать(X, Y).</p>
</div>
<div class="paragraph">
<p>¬жен(X) ∨ ¬родитель(X, Y) ∨ мать(X, Y).</p>
</div>
<div class="paragraph">
<p>В Prolog используются хорновские дизъюнкты&#8201;&#8212;&#8201;содержат не более одного положительного литерала.</p>
</div>
<div class="paragraph">
<p>Цель&#8201;&#8212;&#8201;дизъюнкт без положительных литералов.</p>
</div>
<div class="paragraph">
<p>В целях переменные связаны кванторами всеобщности.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример (метод резолюции)</dt>
<dd>
<p>Цель: мать(X, 'Фёдор').
+
[stem]
+
not EE x (мать(X, 'Фёдор')).
AA x (not мать(X, 'Фёдор')).
sigma = {'Фёдор' / Y}
not жен(X) VV not родитель(X, 'Фёдор')
sigma = {'Марья' / X}
not not родитель('Марья', 'Фёдор')
[]
+</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Благодаря использованию хорновских дизъюнктов правила можно рассматривать как процедуры:
p :- p<sub>1</sub>, p<sub>2</sub>, &#8230;&#8203;, p<sub>m</sub> = function p {call p<sub>1</sub>; call p<sub>2</sub>; &#8230;&#8203;; call p<sub>m</sub>}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_процедурный_смысл_prolog_программы">Процедурный смысл Prolog-программы</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Цели g<sub>1</sub>, g<sub>2</sub>, &#8230;&#8203;, g<sub>n</sub>&#8201;&#8212;&#8201;это "call g<sub>1</sub>; call g<sub>2</sub>; &#8230;&#8203;, call g<sub>n</sub>;"</p>
</div>
<div class="paragraph">
<p>Правило "p :- p<sub>1</sub>, p<sub>2</sub>, &#8230;&#8203;, p<sub>m</sub>"&#8201;&#8212;&#8201;это процедура "procedure p {call p<sub>1</sub>; call p<sub>2</sub>; &#8230;&#8203;; call p<sub>m</sub>}"</p>
</div>
<div class="paragraph">
<p>Prolog пытается достичь целей последовательно.</p>
</div>
<div class="paragraph">
<p>\$g_1 = q(t_1^c, t_2^c, ..., t_k^c)\$</p>
</div>
<div class="paragraph">
<p>\$p = q(t_1^r, t_2^r, ..., t_k^r)\$</p>
</div>
<div class="paragraph">
<p>Чтобы правило подошло для цели, их предикатные символы должны быть одинаковы (и арности предикатов).</p>
</div>
<div class="paragraph">
<p>В Prolog параметры передаются сопоставлением (один из видов передачи наряду с передачей по значению или ссылке).</p>
</div>
<div class="paragraph">
<p>Один терм может быть конкретнее другого. Самый абстрактный&#8201;&#8212;&#8201;переменная (напр. X). Более конкрктный&#8201;&#8212;&#8201;структура (напр. f(Y,Z)), ещё более конкретна предметная постоянная (напр. a). f(Y,Z), g(a,b) и <em>a</em> несопоставимы: нельзя сказать, что один конкретнее другого.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Подстановка</dt>
<dd>
<p>множество пар X<sub>i</sub>/t<sub>k</sub>, где X<sub>i</sub>&#8201;&#8212;&#8201;переменная, t<sub>k</sub>&#8201;&#8212;&#8201;терм.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Требования к подстановкам:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В подстановке все переменные уникальны: X<sub>i</sub> ≠ X<sub>m</sub>, каждая переменная конкретизируется только один раз.</p>
</li>
<li>
<p>\$X_i !in t_k\$ (напр. нельзя сделать подстановку X/f(X,Y), но в Prolog это возможно для созданя бесконечных структур)</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Как происходит сопоставление</dt>
<dd>
<p>Подстановка σ = {X/f(a, b), Y/b}, называемая унификатором, делает термы q(X, g(a, Y)) и q(f(a, b), g(a, b)) одинаковыми</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Термы можно унифицировать подстановками {X/Y} или {X/a, Y/a}, но только вторая является наиболее общим унификатором (НОУ).</p>
</div>
<div class="paragraph">
<p>(Самый простой) алгоритм нахождения НОУ&#8201;&#8212;&#8201;алгоритм Эрбрама:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>на входе&#8201;&#8212;&#8201;список термов, которые нужно унифицировать (напр. \$t_1^1 = t_1^2, t_2^1 = t_2^2, ..., t^1_m = t^2_m\$)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>недетерменировано (в произвольном порядке) применяет правила до тех пор, пока какое-либо из них можно применит:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>если есть равенство вида</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>a = b</p>
</li>
<li>
<p>a = f(&#8230;&#8203;)</p>
</li>
<li>
<p>f(&#8230;&#8203;) = g(&#8230;&#8203;)</p>
</li>
<li>
<p>f(t<sub>1</sub>, t<sub>2</sub>, &#8230;&#8203;, t<sub>k</sub>) = f(t'<sub>1</sub>, t'<sub>2</sub>, &#8230;&#8203;, t'<sub>l</sub>), k ≠ l</p>
<div class="paragraph">
<p>то алгоритм заканчивается с неудачей&#8201;&#8212;&#8201;термы несопоставимы</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>если есть уравнение вида X = X, то оно удаляется</p>
</li>
<li>
<p>если есть уравнение вида a = a, то оно удаляется</p>
</li>
<li>
<p>если есть уравнение вида \$f(t_1^1, t_2^1, ..., t_n^1) = f(t_1^2, t_2^2, ..., t_n^2)\$, то оно заменяется на \$t_1^1 = t_1^2, t_2^1 = t_2^2, ..., t_n^1 = t_n^2\$</p>
</li>
<li>
<p>если есть уравнение вида t = X, то оно заменяется на X = t</p>
</li>
<li>
<p>если есть уравнение вида X = t и X встречается в каком-либо другом равенстве, напр. y = t' и X входит в t', то вместо X подставляется t'</p>
</li>
<li>
<p>если есть уравнение вида X = t, где t&#8201;&#8212;&#8201;структура, в которую входит X, то с точки зрения логики они несопоставимы, но с алгоритмической точки зрения X&#8201;&#8212;&#8201;это бесконечная структура (напр. X = f(a, X)&#8201;&#8212;&#8201;это X = f(a, f(a, &#8230;&#8203;)))</p>
</li>
<li>
<p>есди никакое из рассмотренных правил не применимо, то получаются равнества X<sub>1</sub> = t<sub>1</sub>, X<sub>2</sub> = t<sub>2</sub>, &#8230;&#8203;, X<sub>k</sub> = t<sub>k</sub>, из которых получаются подстановка σ = {X<sub>1</sub>/t<sub>1</sub>, X<sub>2</sub>/t<sub>2</sub>, X<sub>k</sub>/t<sub>k</sub>}, что и будет наиболее общим унификатором.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Подстановка σ = {X/Y, Y/X} выполняется за 2 шага, а σ' = {X/Z, Y/Z}&#8201;&#8212;&#8201;за 1 шаг.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_алгоритм_работы_prolog_машины">Алгоритм работы Prolog-машины</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Алгоритмов работы Prolog-машины есть множество.</p>
</div>
<div class="paragraph">
<p>Мы рассмотрим самый простой, который рекурсивно вычисляет цели.</p>
</div>
<div class="paragraph">
<p>Основная процедура&#8201;&#8212;&#8201;"Вычислить", которая получает на вход массив целей, а выдаёт результат ("успех", подстановка) или "неудача". Процедура "Вычислить" обращается к процедуре "Просмотр", которая работает с базой данных, которая хранит факты и правила. Факты и правила объединяются термином "предложения". Факт&#8201;&#8212;&#8201;это правило, которое имеет заголовок и не имеет тела.</p>
</div>
<div class="paragraph">
<p>Процедура "Вычислить"&#8201;&#8212;&#8201;рекурсивная процедура, которая,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>если список целей пуст, то завершается с успехом;</p>
</li>
<li>
<p>если список целей не пуст, то она берёт первую цель и передаёт её функции "Просмотр".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Процедура "Просмотр" просматривает базу данных и ищет предложения, заголовок которого сопоставим с данной целью. Если сопоставим, то начинаем работать с этим предложением.</p>
</div>
<div class="paragraph">
<p>Пусть сопоставимое с целью G<sub>1</sub> предложение имеет вид H :- B<sub>1</sub>, &#8230;&#8203;, B<sub>n</sub>. Чтобы использовать это правило, в нём нужно переименовать переменные: H' :- B<sub>1</sub>', &#8230;&#8203;, B<sub>n</sub>'. Благодаря переименованию, переменные внутри правил становятся локальными в пределах правила.</p>
</div>
<div class="paragraph">
<p>Далее нужно найти НОУ σ для G<sub>1</sub> и H'. После этого можно строить резольвенту. Получается новый список целей B<sub>1</sub>', &#8230;&#8203;, B<sub>n</sub>', G<sub>2</sub>, &#8230;&#8203;, G<sub>m</sub>. К нему применяется подстановка σ, и получается B<sub>1</sub>'', &#8230;&#8203;, B<sub>n</sub>'', G<sub>2</sub>', &#8230;&#8203;, G<sub>m</sub>', и дальше алгоритм продолжает работать с новым списком целей.</p>
</div>
<div class="paragraph">
<p>""""
&#8230;&#8203; у этого алгоритмя есть шанс закончиться.
""""</p>
</div>
<div class="paragraph">
<p>Prolog является языком недетерменированного программирования.</p>
</div>
<div class="paragraph">
<p>Как реализуется недетерменированность. Если процедура "Просмотр" дойдёт до конца базы данных и не обнаружит подходящего предложения, тогда Prolog-машина выполнит откат. При откате последний выбор предложения отменяется, и просмотр возобновляется со следующего предложения. Если понадобится откат для цели G<sub>1</sub>, то работа Prolog-машины закончится неудачей.</p>
</div>
<div class="paragraph">
<p>Если список целей станет пустым, то полученые подстановки будут ответом.</p>
</div>
<div class="sect2">
<h3 id="_пример">Пример</h3>
<div class="paragraph">
<p>1) большой(медведь).
2) большой(слон).
3) маленький(кот)
4) бурый(медведь)
5) чёрный(кот)
6) серый(слон)
7) тёмный(X) :- чёрный(X).
8) тёмный(X) :- бурый(X).</p>
</div>
<div class="paragraph">
<p>?- тёмный(X), большой(X)</p>
</div>
<div class="paragraph">
<p>тёмный(X)&#8201;&#8212;&#8201;цель g<sub>1</sub></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Просмотр находит 7) тёмный(X') :- чёрный(X'). X заменяется на X'</p>
</li>
<li>
<p>чтобы сопоставить X и X' используется подстановка σ = {X'/X}</p>
</li>
<li>
<p>остаётся резольвента: чёрный(X), больошй(X)</p>
</li>
<li>
<p>просмотр находит 5) чёрный(кот). X заменяется на "кот": σ' = {X/кот}</p>
</li>
<li>
<p>остаётся резольвента: больошй(кот)</p>
</li>
<li>
<p>просмотр ничего не находит&#8201;&#8212;&#8201;неудача &#8658; отменяется выбор 5 предложения</p>
</li>
<li>
<p>просмотр ничего не находит&#8201;&#8212;&#8201;неудача &#8658; отменяется выбор 7 предложения</p>
</li>
<li>
<p>Просмотр находит 8) тёмный(X') :- чёрный(X'). X заменяется на X'</p>
</li>
<li>
<p>остаётся резольвента: бурый(X), большой(X). σ' = {X/медведь}</p>
</li>
<li>
<p>остаётся резольвента: большой(медведь)</p>
</li>
<li>
<p>просмотр находит такой факт &#8658; получается пустая резольвента&#8201;&#8212;&#8201;успех</p>
</li>
<li>
<p>X = медведь</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_списки_в_прологе">Списки в Прологе</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Пролог&#8201;&#8212;&#8201;более высокоуровневый язык, чем C, C++, Pascal&#8201;&#8212;&#8201;нет указателей</p>
</div>
<div class="paragraph">
<p>Пустой указатель (null) обозначается как пустой список [].</p>
</div>
<div class="paragraph">
<p><code>·/2</code>&#8201;&#8212;&#8201;функтор арности 2</p>
</div>
<div class="paragraph">
<p>Список [a, b, c] обозначается как <code>·(a,·(b,·(c,[])))</code>, но компилятор Prolog может конвертировать эти формы представления.</p>
</div>
<div class="paragraph">
<p>Первый элемент списка&#8201;&#8212;&#8201;голова, а список без головы&#8201;&#8212;&#8201;хвост.</p>
</div>
<div class="paragraph">
<p>Структура · связывает голову с хвостом</p>
</div>
<div class="paragraph">
<p>Терм <code>[X|Y]</code> сопоставим со списком, где голова сопоставляется с X, а хвост&#8201;&#8212;&#8201;с Y.</p>
</div>
<div class="paragraph">
<p>В списке можно выделить несколько голов: [X<sub>1</sub>, X<sub>2</sub> | Y]</p>
</div>
<div class="sect2">
<h3 id="_процедуры_для_работы_со_списком">Процедуры для работы со списком</h3>
<div class="paragraph">
<p>Процедура проверки принадлежности элемента списка: member</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">?-member1(b, [a,b,c]).
  yes.
?-member1(d, [a,b,c]).
  no.

// Рекурсивное определение
member1(X, [X|_]).
member1(X, [_|Xs]) :- member1(X, Xs).</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>_</code>&#8201;&#8212;&#8201;анонимная переменная</p>
</div>
<div class="paragraph">
<p>Процедура соединения двух списков: append</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">?-append1([a,b], [b,c], X).
  X = [a,b,b,c].

// Если первый список пуст, то результатом будет второй список
append1([], Xs, Xs)
// Иначе, если первый список имеет голову X и хвост Xs, то результирующий список будет иметь голову, как к первого списка, а хвост -- соединение хвоста первого списка со вторым списком
append1([X|Xs], Ys, [X,Zs]) :-
  append1(Xs, Ys, Zs).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Процедура удаление элемента из списка: delete</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">?-delete([a,b,c], b, X).
  X = [a,c].

delete1([X|Xs], X, Xs).
delete1([X|Xs], Y, [X|Zs]) :-
  delete(Xs, Y, Zs).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Рассмотрим, как с помощью процедуры "append" можно разделить на 2 части.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">?-append(From, [c|After], [a,b,c,d,e,f]).
  From = [a,b].
  After = [d,e,f].</code></pre>
</div>
</div>
<div class="paragraph">
<p>Рассмотрим, как это выполняется.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>первое правило append (append([], Xs, Xs)) не применимо, так как [c|After] ≠ [a,b,c,d,e,f] (c ≠ a)</p>
</li>
<li>
<p>применяется второе правило, получается: append([X'|Xs'], Ys', [X',Zs']) :- append(Xs', Ys', Zs')</p>
<div class="ulist">
<ul>
<li>
<p>для этого применяется подстановка σ<sub>1</sub> = {From/[a|Zs'], Ys'/[c|After], X'/a, Zs'/[b,c,d,e,f]}</p>
</li>
</ul>
</div>
</li>
<li>
<p>получается новая цель: append(Xs', [c|After], [b,c,d,e,f]).</p>
</li>
<li>
<p>3-й аргумент стал короче на 1 элемент. Применение 2-го правила будет повторяться пока "c" не станет головой этого списка. В итоге будет Zs''' = []</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">?-reverse1([a,b,c], X).
  X=[c,b,a].

?-reverse1([], []).
?-reverse1([X|Xs], Zs) :-
    reverse1(Xs, Ys),
    append(Ys, [X], Zs).

?-reverse2(Xs, Ys) :-
    reverse3(Xs, [], Ys).
//               ^^- накапливающий параметр

reverse3([X|Xs], Acc, Zs) :-
  reverse(Xs, [X|Acc], Zs).


reverse3([], Acc, Acc).</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_пример_применения_пролога_в_области_искуственного_интелектазадача_построения_планов">Пример применения Пролога в области искуственного интелекта&#8201;&#8212;&#8201;задача построения планов</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Пример "Обезьяний банан"&#8201;&#8212;&#8201;Построение плана действий обезьяны.</p>
</div>
<div class="paragraph">
<p>Цель: обезьяна должна получить банан</p>
</div>
<div class="paragraph">
<p>Условие: обезьяна входит в комнату, в центре которой к потолку подвешен банан. Дотянуться она до него не может, но у окна стоит ящик, который можно двигать по комнате. На ящик можно влезать.</p>
</div>
<div class="paragraph">
<p>Построение плана действий</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Задать пространство состояний</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Описать состояния: положение обезьяны по горизонтали и вертикали, ящика по горизонтали, признак владения бананом</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">сост(у_двери, внизу, у_окна, не_имеет). // начальное состояние
сост(_, _, _, имеет). // финальное состояние</code></pre>
</div>
</div>
</li>
<li>
<p>Описать действия (переходы между состояниями) в порядке предпочтения</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">шаг(сост(посередине, вверху, посередине, не_имеет),
    схватить,
    сост(посередине, вверху, посередине, имеет)).

шаг(сост(P, внизу, P, Об₁),
    влезть,
    сост(P, вверху, P, Об₁)).

шаг(сост(P₁, внизу, P₁, Об₁),
    передвинуть(P₁, P₂),
    сост(P₂, внизу, P₂, Об₁)).

шаг(сост(P₁, внизу, B, Об₁),
    перейти(P₁, P₂),
    сост(P₂, внизу, B, Об₁)).</code></pre>
</div>
</div>
<div class="paragraph">
<p>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">поиск(сост(_, _, _, имеет), Протокол, Рез) :-
  reverse(Протокол, Рез).

поиск(S, Протокол, Рез) :-
  шаг(S, D, S₁),
  поиск(S₁ [D|Прот], Рез).</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_управление_перебором_в_прологе">Управление перебором в Прологе</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В Прологе есть возможность отсечения ненужных вариантов.</p>
</div>
<div class="paragraph">
<p>Рассмотрим пример процедуры, в которой некоторые ветви вычисления становятся ненужными: опишем ступенчатую функцию (0 если &lt; 3, 2 если 3&#8212;&#8203;6, 4 если &gt; 6).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">f(X, 0) :- X &lt; 3.
f(X, 2) :- 3 &lt;= X, X &lt; 6.
f(X, 4) :- 6 &lt;= X.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Эти правила описывают альтернативные случаи.</p>
</div>
<div class="paragraph">
<p>Пример: цели <code>?-f(1,Y), 2 &lt; Y.</code></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Применяется правило 1 &#8658; цели <code>1 &lt; 3, 2 &lt; 0</code></p>
</li>
<li>
<p>цели <code>2 &lt; 0</code> &#8658; неудача, также и в последующих. Выполнение последующих ветвей (правил) будет заведомо бессмысленно.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Оператор отсечения <code>!</code></p>
</div>
<div class="paragraph">
<p>Выполнение оператора всегда успешно, и он исключает из рассмотрения другие правила.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">f(X, 0) :- X &lt; 3, !.
f(X, 2) :- 3 &lt;= X, X &lt; 6, !.
f(X, 4) :- 6 &lt;= X.</code></pre>
</div>
</div>
<div class="paragraph">
<p>И теперь можно записать короче:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">f(X, 0) :- X &lt; 3, !.
f(X, 2) :- X &lt; 6, !.
f(X, 4).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Рассмотрим точный смысл оператора отсечения.</p>
</div>
<div class="paragraph">
<p>Пусть</p>
</div>
<div class="literalblock">
<div class="content">
<pre>C :- P, Q, R, !, S, T, U.
C :- V.
A :- B, C, D.
B :- ...

?- A.</pre>
</div>
</div>
<div class="paragraph">
<p>Цель A вызывает B, затем C, которая содержит отсечение. Тогда C называется родительской целью (содержащий отсечение). Пока предикат отсечения не сработал, вычисление идёт обычным образом. Если буедт выполнен оператор отсечения (он всегда выполняется успешно), то</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>все предикаты, стоящие слева от него (в примере это P, Q, R), фиксируют свой выбор, а значит если их достигнет откат, то они сразу передадут его родительской цели;</p>
</li>
<li>
<p>из рассмотрения исключаются правила для родительского предиката, которые расположены ниже (в примере это <code>C :- V.</code>);</p>
</li>
<li>
<p>предикаты, стоящие после оператора отсечения, (в примере это S, T, U) работают в обычном режиме.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>С помощью оператора отсечения можно реализовать ветвление (if &#8230;&#8203; then &#8230;&#8203; else). Рассмотрим пример.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">?-member1(a, [a,b,a]).
  yes ;
  yes ;
  no.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Процедура выдаёт положительный ответ несколько раз (на каждый элемент), что в декларативной парадигме приводит к тому, что последующие вычисления, которые основываются на её ответе, выполнятся также несколько раз. Это можно исправить оаератором отсечения:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">member2(X, [X|_]) :- !.
member2(X, [_|Xs]) :-
  member2(X, Xs).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Рассмотрим процедуру слияния упорядоченых списков. Чтобы её определить, понадобится сформулировать альтернативные ветви.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">merge([1,3,5,7], [2,3,4,5], Xs).
  Xs = [1,2,3,4,5,7].

merge([X|Xs], [Y|Ys], [X|Zs]) :-
  X &lt; Y, !,
  merge(Xs, [Y|Ys], Zs).

merge([X|Xs], [X|Ys], [X|Zs]) :-
  !,
  merge(Xs, Ys, Zs).

merge([X|Xs], [Y|Ys], [Y|Zs]) :-
  !,
  merge([X|Xs], Ys, Zs).

merge(Xs, [], Xs).
merge([], Ys, Ys).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Оператор отсечения в 3-м определении исключает проверку базовых случаев (один из списков пустой)</p>
</div>
<div class="paragraph">
<p>Рассмотрим несколько алгоритмов сортировки списков. Они формируются очень лаконично.</p>
</div>
<div class="paragraph">
<p>Пузырьковая сортировка:</p>
</div>
<div class="paragraph">
<p>Если в списке есть 2 соседних элемента, нарушающих порядок, то переставляем их и продолжаем сортировать полученый список; иначе заканчиваем сортировку.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">exchange([X|Y|Rest], [Y|X|Rest]) :- X &gt; Y, !.
exchange([X|Xs], [X|Ys]) :-
  exchange(Xs, Ys).

bubble(Src, Res) :-
  exchange(Src, Tmp), !,
  bubble(Tmp, Res).

bubble(Src, Src).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сортировка вставкой:</p>
</div>
<div class="paragraph">
<p>Отсортированый список&#8201;&#8212;&#8201;это отсортированый хвост, в который ставлена голова без нарушения порядка сортировки.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">insSort([X|Xs], Ys) :-
  insSort(Xs, Zs),
  ins(X, Zs, Ys).

insSort([], []).

ins(X, [], X).
ins(X, [Y|Ys], [Y|Zs]) :-
  X &gt; Y, !,
  ins(X, Ys, Zs).
ins(X, Ys, [X|Ys]).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Быстрая сортировка (Хоара):</p>
</div>
<div class="paragraph">
<p>Хвост Xs списка [X|Xs] разбиваем на 2 списка: в первом элементы меньше X, а во втором&#8201;&#8212;&#8201;больше. Полученые списки сортируем по отдельности, а результат получаем процедурой append()</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-prolog" data-lang="prolog">// разбиение
partition(
  [X|Xs], // исходный список
  Y,      // элемент X
  [X|Ls], // список элементов Xs, меньших X
  Bs      // список элементов Xs, больших X
) :-
  X =&lt; Y, !,
  partition(Xs, Y, Ls, Bs).


partition([X|Xs], Y, Ls, [X|Bs]) :-
  partition(Xs, Y, Ls, Bs).

partition([], _, [], []).

quickSort([X|Xs], Ys) :-
  partition(Xs, X, Littles, Bigs),
  quickSort(Littles, Ls),
  quickSort(Bigs, Bs),
  append(Ls, [X|Bs], Ys).

quickSort([], []),</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_функциональное_программирования_язык_haskell">Функциональное программирования. Язык Haskell</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_выражения_передача_параметров">Выражения. Передача параметров</h3>
<div class="paragraph">
<p>В Haskell параметры передаются по имени (by name, "буквально"), то есть в виде выражений, а не вычисленые.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell">power x = x*x

power (1+2) =&gt; (1+2)*(1+2) =&gt; 9.</code></pre>
</div>
</div>
<div class="paragraph">
<p>В данном примере "1+2" передаётся не вычислиным.</p>
</div>
<div class="paragraph">
<p>Вычисляемое выражение можно представить с помощью ациклического графа, а вычисление выражение&#8201;&#8212;&#8201;как редукцию (упрощение) графа:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  *       *
 / \     / \
 \ /  =&gt; \ / =&gt; 9
  +       3
 / \
 1 2</pre>
</div>
</div>
<div class="paragraph">
<p>В Haskell используются ленивые вычисления&#8201;&#8212;&#8201;аргументы функций вычисляются только тогда, когда они требуются для вычисления окончательного результата (выражение не вычисляется, пока не понадобится его результат). Благодаря этому можно использовать бесконечные структуры данных (напр. бесконечные списки или деревья).</p>
</div>
</div>
<div class="sect2">
<h3 id="_типы">Типы</h3>
<div class="paragraph">
<p>Haskell&#8201;&#8212;&#8201;это строго типизированый язык. Каждое подвыражение программы на Haskell имеет строго определённый тип.</p>
</div>
<div class="paragraph">
<p>Примитивные типы: <code>Bool, Int, Char, Float,</code> &#8230;&#8203; Регистрозависимо&#8201;&#8212;&#8201;обязательно с большой буквы.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Для функции <code>even x = not(odd x)</code> можно задать тип: `even </dt>
<dd>
<p>Int &#8594; Bool`.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Типы выводятся компилятором, то есть обычно их можно не указывать.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Функции могуть быть полиморфными, то есть работать с разными типами. Это аналагично шаблонам или дженерикам: <code>id x = x</code>; `id </dt>
<dd>
<p>a &#8594; a`. Предполагается, что <em>a</em> связана квантором всеобщности. Это параметрический полиморфизм, но в Haskell есть и другие его виды.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_условное_выражение">Условное выражение</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell">if be then e1 else e2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обязательно должны быть <em>обе</em> ветви.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell">fact n =
  if n == 0
    then 1
    else n * fact(n-1)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_введение_локальных_определений">Введение локальных определений</h3>
<div class="paragraph">
<p>В примере <code>h x = f x + sqrt(f x)</code> два "f x" не является одним и тем же и будет вычисляться дважды. Для того чтобы избежать этого, нужно ввести переменную.</p>
</div>
<div class="paragraph">
<p><code>let</code> вводит переменную: <code>let &lt;имя переменной&gt; in &lt;выражение&gt;</code></p>
</div>
<div class="paragraph">
<p>Тогда вышеприведённую функцию можно определить более эффективно: <code>h x = let {y = f x} in y + sqrt y</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell">fib n =
  if n == 0 then 1
    else if n == 1 then 1
    else fib(n - 2) +
         fib(n - 1)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_синтаксические_расширения">Синтаксические расширения</h3>
<div class="sect3">
<h4 id="_выравнивание">Выравнивание</h4>
<div class="paragraph">
<p>Отступы имеют синтаксический смысл (как в Python).</p>
</div>
<div class="paragraph">
<p>Строчный блок <code>{&#8230;&#8203;}</code> может быть заменён многострочным с отступом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell">let {x = 5; y = x + 7} in x * y
// эквивалентно
let
  x = 5
  y = x + 7
in x * y
// что преобразовывается в
let {
  x = 5
  ;y = x + 7
}in x * y</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если строка в многострочном блоке имеет отступ больше предыдущего, то она считается продолжением предудущей (а не новым блоком).</p>
</div>
</div>
<div class="sect3">
<h4 id="_сопоставление_с_образцом">Сопоставление с образцом</h4>
<div class="paragraph">
<p>Аналогично Prolog.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell">fib 0 = 1
fib 1 = 1
fib n = fib (n-2) + fib(n-1)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Определения должны быть в одном блоке (идти с одинаковым отступом или быть в {&#8230;&#8203; ; &#8230;&#8203;}).</p>
</div>
</div>
<div class="sect3">
<h4 id="_перечисление_вариантов">Перечисление вариантов</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell">fib
  | n == 0 = 1
  | n == 1 = 1
  | otherwise n = fib (n-2) + fib(n-1)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-haskell" data-lang="haskell"></code></pre>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>В C тоже такие штуки называются "структуры"</p>
</div>
<div class="paragraph">
<p>В общем случае голову нужно оставить на месте, &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>В Прологе есть условная конструкция&#8201;&#8212;&#8201;if then else. Я вам её рассказывать не буду&#8230;&#8203;</p>
</div>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-10-07 13:59:41 +0300
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>